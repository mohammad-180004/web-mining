
<!doctype html>
<html lang="id" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <meta name="author" content="Mohammad Haekal">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.7">
    
    
      
        <title>Web Crawling - Web Mining</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.19753c6b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="indigo">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#crawling" class="md-skip">
          Lewati ke isi
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Web Mining" class="md-header-nav__button md-logo" aria-label="Web Mining">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Web Mining
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Web Crawling
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cari" placeholder="Cari" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/mohammad_180004/web-mining/" title="Menuju repositori" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    web-mining
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Web Mining" class="md-nav__button md-logo" aria-label="Web Mining">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Web Mining
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/mohammad_180004/web-mining/" title="Menuju repositori" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    web-mining
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Beranda
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Web Crawling
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Web Crawling
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Daftar isi">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Daftar isi
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#web-crawling-dengan-scrapy" class="md-nav__link">
    Web Crawling dengan Scrapy
  </a>
  
    <nav class="md-nav" aria-label="Web Crawling dengan Scrapy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mempersiapkan-library-scrapy" class="md-nav__link">
    Mempersiapkan Library Scrapy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#melakukan-scraping-pada-website" class="md-nav__link">
    Melakukan Scraping pada Website
  </a>
  
    <nav class="md-nav" aria-label="Melakukan Scraping pada Website">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scrapy-shell" class="md-nav__link">
    Scrapy Shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memulai-crawler" class="md-nav__link">
    Memulai Crawler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mengekstrak-konten-dari-berita" class="md-nav__link">
    Mengekstrak Konten dari Berita
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#membuat-spider-kustom" class="md-nav__link">
    Membuat Spider Kustom
  </a>
  
    <nav class="md-nav" aria-label="Membuat Spider Kustom">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#membuat-scrapy-project" class="md-nav__link">
    Membuat Scrapy Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#membuat-spider" class="md-nav__link">
    Membuat Spider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#menulis-spider-kustom" class="md-nav__link">
    Menulis Spider Kustom
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mengekspor-hasil-crawling" class="md-nav__link">
    Mengekspor Hasil Crawling
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-crawling-dengan-requests-html" class="md-nav__link">
    Web Crawling dengan Requests-HTML
  </a>
  
    <nav class="md-nav" aria-label="Web Crawling dengan Requests-HTML">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memasang-dan-memulai-library-requests-html" class="md-nav__link">
    Memasang dan Memulai Library Requests-HTML
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memulai-crawling" class="md-nav__link">
    Memulai Crawling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#menyimpan-hasil-crawlin-ke-dalam-file" class="md-nav__link">
    Menyimpan Hasil Crawlin ke dalam File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../preprocessing/" class="md-nav__link">
      Preprocessing Text
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../modelling/" class="md-nav__link">
      Topic Modelling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../evaluasi/" class="md-nav__link">
      Summarization Evaluation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../reference/" class="md-nav__link">
      Referensi
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Daftar isi">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Daftar isi
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#web-crawling-dengan-scrapy" class="md-nav__link">
    Web Crawling dengan Scrapy
  </a>
  
    <nav class="md-nav" aria-label="Web Crawling dengan Scrapy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mempersiapkan-library-scrapy" class="md-nav__link">
    Mempersiapkan Library Scrapy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#melakukan-scraping-pada-website" class="md-nav__link">
    Melakukan Scraping pada Website
  </a>
  
    <nav class="md-nav" aria-label="Melakukan Scraping pada Website">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scrapy-shell" class="md-nav__link">
    Scrapy Shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memulai-crawler" class="md-nav__link">
    Memulai Crawler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mengekstrak-konten-dari-berita" class="md-nav__link">
    Mengekstrak Konten dari Berita
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#membuat-spider-kustom" class="md-nav__link">
    Membuat Spider Kustom
  </a>
  
    <nav class="md-nav" aria-label="Membuat Spider Kustom">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#membuat-scrapy-project" class="md-nav__link">
    Membuat Scrapy Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#membuat-spider" class="md-nav__link">
    Membuat Spider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#menulis-spider-kustom" class="md-nav__link">
    Menulis Spider Kustom
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mengekspor-hasil-crawling" class="md-nav__link">
    Mengekspor Hasil Crawling
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-crawling-dengan-requests-html" class="md-nav__link">
    Web Crawling dengan Requests-HTML
  </a>
  
    <nav class="md-nav" aria-label="Web Crawling dengan Requests-HTML">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memasang-dan-memulai-library-requests-html" class="md-nav__link">
    Memasang dan Memulai Library Requests-HTML
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memulai-crawling" class="md-nav__link">
    Memulai Crawling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#menyimpan-hasil-crawlin-ke-dalam-file" class="md-nav__link">
    Menyimpan Hasil Crawlin ke dalam File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/mohammad_180004/web-mining/edit/master/docs/crawling.md" title="Ubah halaman ini" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="crawling">Crawling<a class="headerlink" href="#crawling" title="Permanent link">&para;</a></h1>
<h2 id="web-crawling-dengan-scrapy"><strong>Web Crawling dengan Scrapy</strong><a class="headerlink" href="#web-crawling-dengan-scrapy" title="Permanent link">&para;</a></h2>
<p>Scrapy adalah framework dari Python untuk web scraping (crawlin) dalam skala besar. Scrapy memberikan Anda semua alat yang Anda butuhkan untuk mengekstrak data dari situs web secara efisien, memprosesnya seperti yang Anda inginkan, dan menyimpannya dalam struktur dan format pilihan Anda. 
Berikut ini adalah cara meng-crawling sebuah website menggunakan library Python, yaitu scrapy. Langkah-langkahnya adalah:</p>
<h3 id="mempersiapkan-library-scrapy"><strong>Mempersiapkan Library Scrapy</strong><a class="headerlink" href="#mempersiapkan-library-scrapy" title="Permanent link">&para;</a></h3>
<p>Langkah pertama adalah mempersiapkan library Scrapy. Scrapy ini dapat berjalan pada Python 2 dan 3 serta Anaconda. Untuk melakukan pemasangan ada dua cara:</p>
<ul>
<li>Metode Anaconda:</li>
</ul>
<div class="codehilite"><pre><span></span><code>conda install -c conda-forge scrapy
</code></pre></div>

<ul>
<li>Metode PyPI</li>
</ul>
<div class="codehilite"><pre><span></span><code>pip install scrapy
</code></pre></div>

<h3 id="melakukan-scraping-pada-website"><strong>Melakukan Scraping pada Website</strong><a class="headerlink" href="#melakukan-scraping-pada-website" title="Permanent link">&para;</a></h3>
<p>Pada kali ini, website yang akan di-crawl adalah website berita SuaraBojonegoro. Anda bisa menggunakan website apa saja.</p>
<h4 id="scrapy-shell"><strong>Scrapy Shell</strong><a class="headerlink" href="#scrapy-shell" title="Permanent link">&para;</a></h4>
<p>Scrapy shell adalah antarmuka yang digunakan untuk berinteraksi dengan library Scrapy. Untuk memulai scrapy shell, masukkan perintah berikut ke dalam Command Prompt:</p>
<div class="codehilite"><pre><span></span><code>scrapy shell
</code></pre></div>

<p><img alt="scrapy-1" src="https://images2.imgbox.com/d9/60/YMPmNPVC_o.jpg" />
Setelah berhasil menjalankan scrapy shell, langkah selanjutnya adalah mempersiapkan halaman yang akan di-crawl oleh scrapy.
<img alt="scrapy-2" src="https://images2.imgbox.com/a6/39/PRnK6onX_o.jpg" /></p>
<h4 id="memulai-crawler"><strong>Memulai Crawler</strong><a class="headerlink" href="#memulai-crawler" title="Permanent link">&para;</a></h4>
<p>Crawler membutuhkan titik awal untuk memulai crawling (mengunduh) konten dari situs web. Tautan yang digunakan pada kali ini adalah https://suarabojonegoro.com/news/2019/12/30/2019-kasus-korupsi-meningkat-100-persen-di-bojonegoro.</p>
<p>Untuk menjalankan crawler di scrapy shell, maka:</p>
<div class="codehilite"><pre><span></span><code>fetch(&quot;https://suarabojonegoro.com/news/2019/12/30/2019-kasus-korupsi-meningkat-100-persen-di-bojonegoro&quot;)
</code></pre></div>

<p><img alt="scrapy-3" src="https://images2.imgbox.com/5c/c7/6fZkRwkj_o.jpg" /></p>
<h4 id="mengekstrak-konten-dari-berita"><strong>Mengekstrak Konten dari Berita</strong><a class="headerlink" href="#mengekstrak-konten-dari-berita" title="Permanent link">&para;</a></h4>
<p>Scrapy menyediakan cara untuk mengekstrak informasi dari HTML dari css selector seperti class, id, dan lain-lain. Untuk mencari css selector dari data yang ingin diekstrak, klik kanan pada informasi tersebut dan klik "Inspect" atau "Periksa":
<img alt="scrapy-4" src="https://images2.imgbox.com/fe/a1/oVfroXop_o.jpg" />
Setelah itu, developer tools akan terbuka. Kemudian, bisa dilihat bahwa css class dari informasi HTML. Untuk hal ini, class yang digunakan adalah "entry-content-single"
<img alt="scrapy-5" src="https://images2.imgbox.com/1a/75/lQ8HPCeb_o.jpg" /></p>
<p>Setelah itu, kembali ke Command Prompt dan jalankan perintah berikut:</p>
<div class="codehilite"><pre><span></span><code>response.css(&quot;.entry-content-single&quot;).extract()
</code></pre></div>

<p>Maka akan mendapatkan hasil sebagai berikut:
<img alt="scrapy-6" src="https://images2.imgbox.com/65/90/FttjGc4j_o.jpg" /></p>
<h3 id="membuat-spider-kustom"><strong>Membuat Spider Kustom</strong><a class="headerlink" href="#membuat-spider-kustom" title="Permanent link">&para;</a></h3>
<p>Spider adalah program yang mengunduh kontend dari situs web atau dari URL yang diberikan. Ketika mengekstrak data pada skala besar, maka custom spider perlu dibuat untuk setiap situs web yang berbeda. Untuk mengkonversi data ke dalam format yang terstruktur dan menyimpannya ke dalam file seperti CSV, JSON, XSLX, dan lain-lain, maka baris kode juga perlu ditulis agar spider dapat mengkonversikannya.</p>
<h4 id="membuat-scrapy-project"><strong>Membuat Scrapy Project</strong><a class="headerlink" href="#membuat-scrapy-project" title="Permanent link">&para;</a></h4>
<p>Keluar dari scrapy shell, kemudian pilih folder untuk menyimpan hasilnya. Kemudian membuat scrapy project dengan perintah sebagai berikut:</p>
<div class="codehilite"><pre><span></span><code>scrapy startproject news_scraper
</code></pre></div>

<p><img alt="scrapy-7" src="https://images2.imgbox.com/9e/ea/1KLTf2Jo_o.jpg" />
Dari perintah tersebut, maka folder baru akan dibuat dengan struktur sebagai berikut:
<img alt="scrapy-8" src="https://images2.imgbox.com/00/26/qHoCGyVk_o.jpg" />
Dari struktur tersebut, terdapat dua file yang penting:</p>
<ul>
<li>settings.py (Mengandung setelan untuk project scrapy)</li>
<li>spiders/ (Folder untuk menyimpan custom spider)</li>
</ul>
<h4 id="membuat-spider"><strong>Membuat Spider</strong><a class="headerlink" href="#membuat-spider" title="Permanent link">&para;</a></h4>
<p>Setelah membuat project scrapy, langkah selanjutnya adalah masuk ke dalam folder tersebut dan jalankan Command Prompt dan memasukkan perintah berikut:</p>
<div class="codehilite"><pre><span></span><code>scrapy genspider newsbot suarabojonegoro.com/news/2019/12/30/2019-kasus-korupsi-meningkat-100-persen-di-bojonegoro
</code></pre></div>

<p><img alt="scrapy-9" src="https://images2.imgbox.com/67/2f/PtyMF8iC_o.jpg" />
Baris perintah ini akan membuat spider baru "newsbot" di dalam folder spiders dengan template dasar:
<img alt="scrapy-10" src="https://images2.imgbox.com/0f/29/1Zcv3axd_o.jpg" />
Dengan isi sebagai berikut:
<img alt="scrapy-11" src="https://images2.imgbox.com/b7/10/4oDDnidV_o.jpg" />
Ada beberapa hal yang perlu diperhatikan pada file ini:</p>
<ul>
<li>name (Nama dari spider, nama ini menjadi hal yang terpenting saat memiliki banyak spider)</li>
<li>allowed_domains (Daftar opsional yang berisi tautan yang spider hanya bisa crawl)</li>
<li>parse(self, reponse) (Fungsi ini dipanggil kapanpun crawler sukses meng-crawl sebuah URL) </li>
</ul>
<h4 id="menulis-spider-kustom"><strong>Menulis Spider Kustom</strong><a class="headerlink" href="#menulis-spider-kustom" title="Permanent link">&para;</a></h4>
<p>Berikut ini adalah baris kode yang digunakan untuk crawling dari situs web:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
    <span class="c1"># Mengekstrak berita dari halaman web</span>
    <span class="n">news</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">&#39;.title.may-blank::text&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">news</span><span class="p">):</span>
        <span class="c1"># Membuat dictionary untuk menyimpan informasi</span>
        <span class="n">scraped_info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;news&#39;</span> <span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="p">}</span>

        <span class="c1"># Memberikan informasi kepada scrapy</span>
        <span class="k">yield</span> <span class="n">scraped_info</span>
</code></pre></div>

<p><img alt="scrapy-12" src="https://images2.imgbox.com/da/39/XccjTLf2_o.jpg" /></p>
<h3 id="mengekspor-hasil-crawling"><strong>Mengekspor Hasil Crawling</strong><a class="headerlink" href="#mengekspor-hasil-crawling" title="Permanent link">&para;</a></h3>
<p>Langkah terakhir untuk menyimpan data pada sebuah file, maka edit file settings.py. Jenis file yang dibutuhkan bergantung dari project yang dilakukan. Kemudian tambahkan baris file berikut:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Ekspor sebagai file CSV</span>
<span class="n">FEED_FORMAT</span> <span class="o">=</span> <span class="s2">&quot;csv&quot;</span>
<span class="n">FEED_URI</span> <span class="o">=</span> <span class="s2">&quot;news.csv&quot;</span>
</code></pre></div>

<p><img alt="scrapy-13" src="https://images2.imgbox.com/2b/ab/3GvF7TAU_o.jpg" />
Setelah itu jalankan perintah:</p>
<div class="codehilite"><pre><span></span><code>scrapy crawl newsbot
</code></pre></div>

<p>Sehingga mendapatkan file output:</p>
<p><img alt="scrapy-14" src="https://images2.imgbox.com/6a/ff/fMaFDiuj_o.jpg" /></p>
<h2 id="web-crawling-dengan-requests-html"><strong>Web Crawling dengan Requests-HTML</strong><a class="headerlink" href="#web-crawling-dengan-requests-html" title="Permanent link">&para;</a></h2>
<p>Requests-HTML adalah library yang digunakan untuk melakukan crawling web semudah dan seintuitif mungkin.</p>
<h4 id="memasang-dan-memulai-library-requests-html"><strong>Memasang dan Memulai Library Requests-HTML</strong><a class="headerlink" href="#memasang-dan-memulai-library-requests-html" title="Permanent link">&para;</a></h4>
<p>Untuk memasang library ini, bisa menggunakan PyPI dengan perintah:</p>
<div class="codehilite"><pre><span></span><code>pip install requests-html
</code></pre></div>

<p>Setelah memasang library ini, langkah selanjutnya adalah mengimpor library ke dalam program dengan kode:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">requests_html</span> <span class="kn">import</span> <span class="n">HTMLSession</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTMLSession</span><span class="p">()</span>
</code></pre></div>

<h4 id="memulai-crawling"><strong>Memulai Crawling</strong><a class="headerlink" href="#memulai-crawling" title="Permanent link">&para;</a></h4>
<p>Untuk memilih data yang akan di-crawl, cara yang digunakan sama seperti pada Scrapy. Class yang digunakan adalah: entry-content dan entry-content-single
Tautan dapat disimpan dalam sebuah variabel agar memudahkan saat menulis kode.</p>
<div class="codehilite"><pre><span></span><code><span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://suarabojonegoro.com/news/2021/02/27/10-orang-terjaring-razia-protokol-kesehatan-covid-19-di-bojonegoro&#39;</span><span class="p">)</span>

<span class="n">articles</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div.entry-content&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">articles</span><span class="p">:</span>
    <span class="n">newsitem</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div.entry-content-single&#39;</span><span class="p">,</span> <span class="n">first</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">news</span> <span class="o">=</span> <span class="n">newsitem</span><span class="o">.</span><span class="n">text</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">news</span><span class="p">)</span>
</code></pre></div>

<p>Maka hasilnya akan seperti ini:</p>
<div class="codehilite"><pre><span></span><code>Selama tahun 2019, Satuan Reskrim Polres Bojonegoro menangani sejumlah kasus korupsi yang telah dilanjutka. Ke ranah persidangan dan beberapa lainnya sudah menjalani hukuman setelah diputuskan bersalah oleh Pengadilan Negeri Bojonegoro, hal ini disampaikan oleh Kapolres Bojonegoro, AKBP M Budi Hendrawan, saat menyampaikan rilis akhir tahun 2019. Senin (30/12/19). Dalam paparanyya Kapolres Bojonegoro juga menyampaikan bahwa untuk penanganan kasus korupsi, penyidik memang butuh waktu yang tidak sebentar karena harus mengumpulkan alat bukti yang cukup kuat untuk menetapkan seseorang jadi tersangka. Dari Data penanganan kasus korupsi ini  pada tahun 2018 Polres menangani dua kasus korupsi yang sudah di lanjutkan ke kejaksaan, dan oada tahun 2019 meningkat menjadi 4 kasus korupsi yang ditangani penyidik Satuan Reskrim Polres Bojonegoro. Memang ada kenaikan dari dua menjadi empat tahun 2019 ini, kata AKBP M Budi Hendrawan. Adapun rincian di tahun 2018 ada 8 kasus naik ke sidik menjadi 3 kasus serta tiga tersangka dengan kerugian negara Rp 631.260.625 dengan pengembalian kerugian Rp 301.935.000 sementara di tahun 2019 ini Polres Bojonegoro menangani 22 kasus dengan naik sidik 4 kasus dengan kerugian negara Rp 1.498.184.634 Dengan pengembalian kerugian Rp 461.898.213. Adapun rata rata tersangka dalam kasus koruosi ini adalah Kepala Desa yang menyalahgunakan wewenang dalam penggunaan dana Desa dan Anggaran Dana Desa. Dengan adanya kasus korupsi ini, perlu adanya pengawasan serta juga perhatian khususnya bagi pengelolaan Dana Desa, agar para pelaksana kegiatan bisa melaksanakan kegiatan dengan baik dan benar. Kami berharap tahun 2020 sudah tidak ada lagi korupsi di Bojonegoro, semuanya kerja dengan baik dan sesuai aturan pelaksanaan, Pungkas Kapolres Bojonegoro.
</code></pre></div>

<h4 id="menyimpan-hasil-crawlin-ke-dalam-file"><strong>Menyimpan Hasil Crawlin ke dalam File</strong><a class="headerlink" href="#menyimpan-hasil-crawlin-ke-dalam-file" title="Permanent link">&para;</a></h4>
<p>Untuk menyimpan hasil crawling dari Requests-HTML, maka menggunakan perintah open untuk menyimpan. Parameter pertama adalah nama file dan parameter kedua adalah mode (menggunakan "w" untuk menulis ke dalam file).</p>
<div class="codehilite"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;crawling.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">write</span><span class="p">(</span><span class="n">news</span><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href=".." class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Sebelumnya
                </span>
                Beranda
              </div>
            </div>
          </a>
        
        
          <a href="../preprocessing/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Selanjutnya
                </span>
                Preprocessing Text
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 Mohammad Haekal
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.0ac82a11.min.js"></script>
      <script src="../assets/javascripts/bundle.f81dfb4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Salin ke memori", "clipboard.copied": "Tersalin ke memori", "search.config.lang": "en", "search.config.pipeline": " ", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Cari", "search.result.placeholder": "Ketik untuk mulai pencarian", "search.result.none": "Tidak ada dokumen yang sesuai", "search.result.one": "1 dokumen ditemukan", "search.result.other": "# dokumen ditemukan", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../javascripts/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>